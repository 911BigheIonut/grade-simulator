<div class="navbar">
  <div class="controls">
    <label>An: </label>
    <select [(ngModel)]="year" (ngModelChange)="loadData()">
      <option *ngFor="let y of years" [value]="y">{{ y }}</option>
    </select>

    <label>Judet: </label>
    <select [(ngModel)]="county" (ngModelChange)="loadData()">
      <option *ngFor="let c of counties" [value]="c.code">{{ c.name }}</option>
    </select>

    <label>Pozitie: </label>
    <input type="number" [(ngModel)]="position" min="1" (ngModelChange)="analyze()" />

    <button (click)="analyze()">Cauta</button>
    <button routerLink="/">Inapoi</button>
  </div>
</div>

<div class="tables">
  <h2>Ocupat complet ({{ complete.length }})</h2>
  <table>
    <thead>
      <tr>
        <th>Liceu + Specializare</th>
        <th>Poziții</th>
        <th>Locuri ocupate</th>
        <th>Locuri libere</th>
        <th>% Ocupare</th>
        <th>Ultima medie</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of complete" class="complete">
        <td>{{ row[0] }}</td>
        <td>{{ row[1] }}</td>
        <td>{{ row[2] }}</td>
        <td>{{ row[3] }}</td>
        <td>{{ row[4] }}</td>
        <td>{{ row[5] }}</td>
      </tr>
    </tbody>
  </table>

  <h2>Ocupat partial ({{ partial.length }})</h2>
  <table>
    <thead>
      <tr>
        <th>Liceu + Specializare</th>
        <th>Poziții</th>
        <th>Locuri ocupate</th>
        <th>Locuri libere</th>
        <th>% Ocupare</th>
        <th>Ultima medie</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of partial" class="partial">
        <td>{{ row[0] }}</td>
        <td>{{ row[1] }}</td>
        <td>{{ row[2] }}</td>
        <td>{{ row[3] }}</td>
        <td>{{ row[4] }}</td>
        <td>{{ row[5] }}</td>
      </tr>
    </tbody>
  </table>

  <h2>Neocupat ({{ empty.length }})</h2>
  <table>
    <thead>
      <tr>
        <th>Liceu + Specializare</th>
        <th>Poziții</th>
        <th>Locuri ocupate</th>
        <th>Locuri libere</th>
        <th>% Ocupare</th>
        <th>Ultima medie</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of empty" class="empty">
        <td>{{ row[0] }}</td>
        <td>{{ row[1] }}</td>
        <td>{{ row[2] }}</td>
        <td>{{ row[3] }}</td>
        <td>{{ row[4] }}</td>
        <td>{{ row[5] }}</td>
      </tr>
    </tbody>
  </table>
</div>
